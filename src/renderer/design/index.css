* {
   box-sizing: border-box;
}

body {
   font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto',
      'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans',
      'Helvetica Neue', sans-serif;
   -webkit-font-smoothing: antialiased;
   -moz-osx-font-smoothing: grayscale;

   margin: 0;
}

h1,
h2,
h3,
h4,
h5,
h6 {
   margin-top: 0;
}

img {
   display: block;

   max-width: 100%;
}

input,
textarea {
   font: inherit;

   /* For firefox */
   min-width: 0;
}

button {
   font: inherit;

   cursor: pointer;
}

/* ================== */

/*
   Color Palette:
   Menu/Widget BG: #f7f7f7
*/

:root {
   --textColor: #333;
   --searchBorder: solid #d6d6d6 1px;

   --highlight: #ebeaf3;
   --selected: #e7e2e3;

   --barBG: var(--selected);
   --barTrackColor: #ff00e6;

   --iconColor: initial;

   --widgetBG: #f7f7f7;
   --widgetBorder: solid #e3e3e3 1px;

   --BG: #fff;

   /* App Sections */
   --libraryViewBG: #f1f1f1;
}

::-webkit-scrollbar {
   width: 0.5em;

   background: var(--barBG);
}

::-webkit-scrollbar-thumb {
   background: grey;
   border-radius: 0.15em;
}

body {
   color: var(--textColor);

   background: var(--BG);
}

/* ================== */
/* Defaults */
.listDefaults {
   list-style: none;
   padding: 0;
   margin: 0;
}

.buttonDefaults {
   color: inherit;

   background: 0;
   padding: 0;
   border: 0;
}

.iconButton {
   cursor: pointer;
}

/* ================== */

.app {
   /*
      Use rems to keep it a consistent size
      regardless of font.
   */
   --appSideSpace: 0.75rem;

   display: grid;
   grid-template-rows: max-content 1fr max-content;

   height: 100vh;
}

/* ================== */

.appHeader {
   background: var(--widgetBG);
   border-bottom: var(--widgetBorder);
}

.appHeaderLayout {
   display: flex;
   justify-content: space-between;
   align-items: center;

   padding: var(--appSideSpace);
}

.directories {
   display: grid;
   grid-auto-flow: column;
   grid-column-gap: 0.5em;
}

.directory {
   font-size: 1.2rem;

   cursor: pointer;

   padding: 0.25em 0.5em;
   border-radius: 0.25em;
   margin: 0;
}

.directory:focus,
.directory:hover {
   background: var(--highlight);
}

/* Specificity */
.directory.currentDirectory {
   background: var(--selected);
}

.settingsIcon {
   filter: var(--iconColor);

   width: 1.4em;
   height: 100%;

   border-radius: 0.25em;
}

/* ================== */

.appMain {
   overflow-y: auto;

   background: var(--BG);
}

.appMainLayout {
}

.libraryView {
   padding: 1em var(--appSideSpace);
}

.libraryViewHeaders,
.song {
   text-align: left;

   display: grid;
   grid-template-columns: repeat(3, 1fr);
   grid-column-gap: 1em;
}

.libraryViewHeaders {
   position: sticky;
   top: 0;

   background: var(--BG);
   padding: var(--appSideSpace);
}

.libraryViewHeader {
   display: flex;
   align-items: baseline;
}

.libraryViewHeader:focus,
.libraryViewHeader:hover {
   cursor: pointer;
}

.libraryViewHeaderText {
   margin: 0;
}

.sortArrowIcon {
   filter: var(--iconColor);

   width: 0.5em;

   margin-left: 0.5em;
}

.sortArrowIconReverse {
   rotate: 180deg;
}

.song {
   padding: 0.5em var(--appSideSpace);
}

.song {
   cursor: pointer;

   border-radius: 0.25em;
}

.song:not(.song:last-child) {
   margin-bottom: 0.5em;
}

.song:focus,
.song:hover {
   background: var(--highlight);
}

.songTitle,
.songArtist,
.songDuration {
   font-size: 1rem;

   margin: 0;
}

/* ================== */

.appFooter {
   align-self: end;

   background: var(--widgetBG);
   padding: var(--appSideSpace);
   border-top: var(--widgetBorder);
}

.mediaPlayer {
   width: 100%;
}

.mediaPlayerOpen,
.mediaPlayer:active {
}

.mediaPlayerLayout {
}

.songPlayingLarge {
   display: flex;
   align-items: center;

   margin-bottom: 0.75em;
}

.coverArt {
   filter: var(--iconColor);

   width: 3.5em;

   padding: 0.75em;
   background: var(--highlight);
   border-radius: 0.25em;

   margin-right: 1em;
}

.songPlaying {
   display: none;
}

.songPlayingTop {
   display: grid;
   grid-template-columns: repeat(3, max-content);
   grid-column-gap: 2em;

   padding: 0 0.5em;
}

.mediaControls {
   display: grid;
   grid-template-columns: repeat(5, max-content) 1fr repeat(2, max-content);
   grid-column-gap: 0.5em;
   align-items: center;

   margin-bottom: 0.25em;
}

.mediaControlButton {
   cursor: pointer;

   padding: 0.5em;
   border-radius: 0.25em;
}

.mediaControlButton:focus,
.mediaControlButton:hover {
   background: var(--highlight);
}

.rewindButton {
   rotate: 180deg;
}

.volumeButton {
   display: grid;
   grid-template-columns: max-content 4em;
   align-items: center;
   grid-column-gap: 0.5em;

   padding: 0.2em 0.5em;
}

.loopButton {
   grid-column: -2;
}

.shuffleButton {
   grid-column: -1;
}

.mediaControlButtonIcon {
   filter: var(--iconColor);
}

.stopIcon {
   /* Stop button is too big normally */
   width: 1.4em;
}

.volumeIcon {
   width: 2.1em;
}

.loopIcon,
.shuffleIcon {
   width: 1.9em;
}

.bar {
   cursor: pointer;

   height: 1em;

   background: var(--barBG);
   border-radius: 0.25em;
}

.barValue {
   pointer-events: none;

   height: 100%;

   background: var(--barTrackColor);
   border-radius: 0.25em 0 0 0.25em;
}

.volumeBar {
   width: 100%;
   height: 0.75em;
   border-radius: 0.15em;
}

.volume {
   width: 45%;

   border-radius: 0.15em 0 0 0.15em;
}

.durationBar {
   width: 100%;
}

.durationBarProgress {
   width: 65%;
}

/* ================== */
@media (min-width: 40.75em) {
   /* Previous font size: 1.2rem */
   .directory {
      font-size: 1.4rem;
   }

   /* Previous size: 1.4em */
   .settingsIcon {
      width: 1.6em;
   }

   /* Previous font size: 1.17em */
   .libraryViewHeaderText {
      font-size: 1.37rem;
   }
}

/* Lower song playing can be shown at this width */
@media (min-width: 48.375em) {
   .songTitle,
   .songArtist,
   .songDuration {
      font-size: 1.2rem;
   }

   .songPlayingTop {
      display: none;
   }

   .songPlaying {
      display: grid;
      grid-template-columns: repeat(3, max-content);
      justify-content: center;
      grid-column-gap: 2em;
   }
}

/* ================== */

/* Dark Mode */
@media (prefers-color-scheme: dark) {
   :root {
      --textColor: #efefef;
      --searchBorder: #1e1e1e;

      --highlight: #464646;
      --selected: #424142;

      /* --iconColor: invert(100%) sepia(1%) saturate(1420%) hue-rotate(201deg) */
      /*    brightness(117%) contrast(87%); */
      --iconColor: invert(1);

      --widgetBG: #282828;
      --widgetBorder: solid #191919 1px;

      --BG: #343535;

      /* App Sections */
      --libraryViewBG: #2e2f2f;
   }

   .mediaControlButton img {
      /* Lights */
      /* filter: invert(1); */
      /* filter: invert(96%) sepia(6%) saturate(88%) hue-rotate(177deg) */
      /*    brightness(99%) contrast(91%); */
      /* filter: invert(95%) sepia(0%) saturate(3%) hue-rotate(214deg) brightness(89%) contrast(91%); */
      /* Darks */
      /* filter: invert(29%) sepia(0%) saturate(490%) hue-rotate(242deg) brightness(87%) contrast(89%); */
      /* filter: invert(38%) sepia(7%) saturate(45%) hue-rotate(314deg) brightness(93%) contrast(87%); */
   }

   /* Alternative to making media controls white */

   /* .mediaControlButton { */
   /*    background: #fff; */
   /*    padding: .25em; */
   /* } */

   /* .stopButton { */
   /*    padding: .3em; */
   /* } */

   /* .mediaControlButton:focus, */
   /* .mediaControlButton:hover { */
   /*    background: #fff; */
   /* } */

   /* .mediaControlButton img { */
   /*    filter: initial; */
   /* } */
}
